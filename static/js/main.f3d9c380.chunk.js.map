{"version":3,"sources":["components/Cards/Cards.module.css","api/index.js","components/Card/Card.jsx","components/Cards/Cards.jsx","App.js","index.js","components/Card/Card.module.css"],"names":["module","exports","getImageData","a","axios","get","data","Card","title","url","captureDate","mediaType","explanation","liked","toggleLikeImage","className","styles","card","image","src","alt","video","onClick","LOCAL_IMAGES_NAME","Cards","useState","images","setImages","useEffect","getData","loadedImages","loadImages","saveImages","localStorage","setItem","JSON","stringify","getItem","parse","imageDate","i","findIndex","date","copy","cards","map","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"sIACAA,EAAOC,QAAU,CAAC,MAAQ,uB,iKCMbC,EAAY,uCAAG,8BAAAC,EAAA,sEAEHC,IAAMC,IAAN,UANb,sCAMa,oBALT,2CAKS,+CAFG,uBAElBC,EAFkB,EAElBA,KAFkB,kBAKnBA,GALmB,2CAAH,qD,uBCmBVC,EAvBF,SAAC,GAAiF,IAA/EC,EAA8E,EAA9EA,MAAOC,EAAuE,EAAvEA,IAAKC,EAAkE,EAAlEA,YAAaC,EAAqD,EAArDA,UAAWC,EAA0C,EAA1CA,YAAaC,EAA6B,EAA7BA,MAAOC,EAAsB,EAAtBA,gBACtE,OACE,sBAAKC,UAAWC,IAAOC,KAAvB,UACE,6BAAKT,IACL,6BAAKE,IACU,UAAdC,EACC,qBAAKI,UAAWC,IAAOE,MAAOC,IAAKV,EAAKW,IAAI,KAE5C,wBAAQL,UAAWC,IAAOK,MAAOb,MAAOE,EAAaS,IAAKV,IAE5D,4BAAIG,IACJ,wBACEU,QAAS,WAEPR,EAAgBJ,IAHpB,SAMGG,EAAQ,uBAAe,0B,iBCd1BU,EAAoB,SA4EXC,EA1ED,WACZ,MAA4BC,mBAAS,IAArC,mBAAOC,EAAP,KAAeC,EAAf,KAEAC,qBAAU,WAER,IAAMC,EAAO,uCAAG,4BAAA1B,EAAA,sEACKD,IADL,OACRI,EADQ,OAEdqB,EAAUrB,GAFI,2CAAH,qDAMPwB,EAAeC,IAGrBD,GAAgBA,EAAa,GAAKH,EAAUG,GAAgBD,MAC3D,IAGHD,qBAAU,WACJF,GAAUA,EAAO,IACnBM,MAED,CAACN,IAGJ,IAAMM,EAAa,WACjBC,aAAaC,QAAQX,EAAmBY,KAAKC,UAAUV,KAInDK,EAAa,WACjB,IAAID,EAAeG,aAAaI,QAAQd,GAGxC,OAFAO,EAAeK,KAAKG,MAAMR,IAMtBhB,EAAkB,SAACyB,GAEvB,IAAMC,EAAId,EAAOe,WAAU,SAACvB,GAC1B,OAAOA,EAAMwB,OAASH,KAIpBI,EAAI,YAAOjB,GAGfiB,EAAKH,GAAG3B,OAAS8B,EAAKH,GAAG3B,MAGzBc,EAAUgB,IAGZ,OACE,qBAAK5B,UAAWC,IAAO4B,MAAvB,SACGlB,EAAOmB,KAAI,SAAC3B,GACX,OACE,cAAC,EAAD,CAEEV,MAAOU,EAAMV,MACbC,IAAKS,EAAMT,IACXC,YAAaQ,EAAMwB,KACnB/B,UAAWO,EAAK,WAChBN,YAAaM,EAAMN,YACnBC,MAAOK,EAAML,MACbC,gBAAiBA,GAPZI,EAAMwB,YCzDRI,MARf,WACE,OACE,8BACE,cAAC,EAAD,OCANC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,U,kBCR1BnD,EAAOC,QAAU,CAAC,KAAO,mBAAmB,MAAQ,oBAAoB,MAAQ,uB","file":"static/js/main.f3d9c380.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"cards\":\"Cards_cards__2DRTF\"};","import axios from \"axios\";\r\n\r\n/**URL of the NASA Astronomy Picture of the Day API */\r\nconst URL = \"https://api.nasa.gov/planetary/apod\";\r\nconst API_KEY = \"MhqduYw74p2VK16Gi0iQGLCBowyt45LLBdbdejUD\";\r\n\r\n/**Gets image data using NASA APOD API from 2021-09-21 to 2021-09-14 */\r\nexport const getImageData = async () => {\r\n  //Get data and return\r\n  const { data } = await axios.get(\r\n    `${URL}?api_key=${API_KEY}&start_date=2021-09-14&end_date=2021-09-21`\r\n  );\r\n  return data;\r\n};\r\n","import React from \"react\";\r\nimport styles from \"./Card.module.css\";\r\n\r\nconst Card = ({ title, url, captureDate, mediaType, explanation, liked, toggleLikeImage }) => {\r\n  return (\r\n    <div className={styles.card}>\r\n      <h1>{title}</h1>\r\n      <h2>{captureDate}</h2>\r\n      {mediaType === \"image\" ? (\r\n        <img className={styles.image} src={url} alt=\"\" />\r\n      ) : (\r\n        <iframe className={styles.video} title={captureDate} src={url} />\r\n      )}\r\n      <p>{explanation}</p>\r\n      <button\r\n        onClick={() => {\r\n          //When button is clicked, then toggle like\r\n          toggleLikeImage(captureDate);\r\n        }}\r\n      >\r\n        {liked ? \"Dislike üëé\" : \"Like üëç\"}\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { getImageData } from \"../../api\";\r\nimport Card from \"../Card/Card\";\r\nimport styles from \"./Cards.module.css\";\r\n\r\n/**Holds the name of the variable that has saved the images */\r\nconst LOCAL_IMAGES_NAME = \"images\";\r\n\r\nconst Cards = () => {\r\n  const [images, setImages] = useState([]);\r\n\r\n  useEffect(() => {\r\n    /**Fetch data and set images to fetched data */\r\n    const getData = async () => {\r\n      const data = await getImageData();\r\n      setImages(data);\r\n    };\r\n\r\n    //Get images from localStorage\r\n    const loadedImages = loadImages();\r\n\r\n    //If the images exist, then set the state variable otherwise get images using API\r\n    loadedImages && loadedImages[0] ? setImages(loadedImages) : getData();\r\n  }, []);\r\n\r\n  /**Whenever image state variable changes, save it to localStorage */\r\n  useEffect(() => {\r\n    if (images && images[0]) {\r\n      saveImages();\r\n    }\r\n  }, [images]);\r\n\r\n  /**Saves images to localStorage */\r\n  const saveImages = () => {\r\n    localStorage.setItem(LOCAL_IMAGES_NAME, JSON.stringify(images));\r\n  };\r\n\r\n  /**Loads images from localStorage */\r\n  const loadImages = () => {\r\n    let loadedImages = localStorage.getItem(LOCAL_IMAGES_NAME);\r\n    loadedImages = JSON.parse(loadedImages);\r\n\r\n    return loadedImages;\r\n  };\r\n\r\n  /**Finds image with corresponding date in images and toggles liked attribute */\r\n  const toggleLikeImage = (imageDate) => {\r\n    //Find index of the image that has date of imageDate in images\r\n    const i = images.findIndex((image) => {\r\n      return image.date === imageDate;\r\n    });\r\n\r\n    //Create a shallow copy of images\r\n    let copy = [...images];\r\n\r\n    //Set image at index i to liked\r\n    copy[i].liked = !copy[i].liked;\r\n\r\n    //Set images to copy\r\n    setImages(copy);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.cards}>\r\n      {images.map((image) => {\r\n        return (\r\n          <Card\r\n            key={image.date}\r\n            title={image.title}\r\n            url={image.url}\r\n            captureDate={image.date}\r\n            mediaType={image[\"media_type\"]}\r\n            explanation={image.explanation}\r\n            liked={image.liked}\r\n            toggleLikeImage={toggleLikeImage}\r\n          />\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cards;\r\n","import Cards from \"./components/Cards/Cards\";\r\n\r\nfunction App() {\r\n  return (\r\n    <div>\r\n      <Cards />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__6xqlS\",\"image\":\"Card_image__2tUHh\",\"video\":\"Card_video__3DqIU\"};"],"sourceRoot":""}